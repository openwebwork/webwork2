OVERVIEW:

This directory contains a new mathematical-expression parser written in 
perl.  It was developed for use with the WeBWorK on-line homework system, 
but it can be used in any perl program.

The goal was to process vector-valued expressions, but the parser was 
designed to be extensible, so that you could add your own functions, 
operators, and data types.  It is still a work in progress, but should 
provide a framework for building more sophisticated expression handling.

Currenlty, the parser understands:

   - real and complex numbers,
   - points, vectors, and matrices (with real or complex entries)
   - arbitrary lists of elements
   - intervals and unions of intervals
   - predefined strings like 'infinity'

Some other useful features are that you can write sin^2 x for (sin(x))^2
and sin^-1 x for arcsin(x), and so on.

Most of the documentation still needs to be written, but you can get some 
ideas from the samples in the problems and extensions directories, and by 
reading the files in the docs directory.


INSTALLATION:

To install the parser in WeBWorK, you must move the files and directories 
that are in the pg/lib subdirectory into your WeBWork pg/lib directory.
(There are four things to move:  Parser.pm, Value.pm, Parser/ and Value/).
Then modify your global.conf file to add

      [qw(Parser Value)],

to the $pg->{modules} list (right after "[qw(VectorField)]").

You also need to comment out the definition of "sub i" from the 
dangerousMacros.pl file in your WeBWorK pg/macros directory, and add

      sub i () {Value::Formula->new('i')->eval}
      sub j () {Value::Formula->new('j')->eval}
      sub k () {Value::Formula->new('k')->eval}

to the bottom of the file.  (A modified version is included in the
pg/macros folder of this Parser directory.)

Once done, you should restart your server.

Sample problems are given in the problems and extensions directories.  Move 
these to the templates directory of a course where you want to test the 
Parser, and move the contents of the macros directory to that course's 
macros directory.

Now try looking at these problems using the Set Maker.  Edit the source to 
see how they work, and to read the comments within the code itself.


EXAMPLE FILES:

The 'problems' directory contains several examples that show how to use 
Parser within your problem files.

    sample1.pg
        Uses the parser to make a string into a formula that you can
        evaluate and print in TeX form

    sample2.pg
        Shows how to create formulas using perl's usual mathematical
        expressions rather than character strings.

    sample3.pg
        Shows how to use the parser's differentiation abilities.

    sample4.pg and sample5.pg
        Use the parser in conjunction with the graphics macros to generate 
        function graphs on the fly.  These also show how to create a 
        perl function to evaluate an expression.

    sample6.pg
        Shows some simple use of vectors in a problem.


The 'examples' directory contains samples that show how to extend the 
parser to include your own functions, operators, and so on.  There are also 
some samples of how to call the methods available for Formula objects 
generated by the parser, and what some error messages look like.

    1-function.pg
       Adds a single-variable function to the parsers list of functions.

    2-function.pg
       Adds a two-variable function to the parser.

    3-operator.pg
       Adds a binary operator to the parser.  (Unary operators are similar.)

    4-list.pg
       Adds a new "list type" object.  In this case, it's really an
       operation [n,r] that returns n choose r.

    5-list.pg
       Add a new "equality" operator that you can use to handle answers
       like "x+y=0".

    6-precedence.pg
       Shows an experimental precedence setting that can be used to make
       sin 2x return sin(2x) rather than (sin(2))x.

    7-context.pg
       Shows how to switch contexts (in this case, to complex and to vector
       contexts), and how this affects the parsing.

    8-answer.pg
       Implements a simple vector-valued answer checker using the
       parser's computation and comparison ability.

