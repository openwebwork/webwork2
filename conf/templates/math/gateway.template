<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
################################################################################
# WeBWorK Online Homework Delivery System
# Copyright © 2000-2003 The WeBWorK Project, http://openwebwork.sf.net/
# $CVSHeader: webwork2/conf/templates/math/gateway.template,v 1.3.2.3 2006/01/24 02:01:17 sh002i Exp $
# 
# This program is free software; you can redistribute it and/or modify it under
# the terms of either: (a) the GNU General Public License as published by the
# Free Software Foundation; either version 2, or (at your option) any later
# version, or (b) the "Artistic License" which comes with this package.
# 
# This program is distributed in the hope that it will be useful, but WITHOUT
# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
# FOR A PARTICULAR PURPOSE.  See either the GNU General Public License or the
# Artistic License for more details.
################################################################################
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="expires" content="Wed, 21 Dec 2005 00:00:01 GMT"/>
<link rel="stylesheet" type="text/css" href="<!--#url type="webwork" name="htdocs"-->/css/math.css"/>
<!-- [gateway] since the left-side menus are gone, don't indent the main content area -->
<link rel="stylesheet" type="text/css" href="<!--#url type="webwork" name="htdocs"-->/css/gateway.css"/>
<title><!--#path style="text" text=" : " textonly="1"--></title>
<!--#head-->
<script language="javascript" type="text/javascript">
function jumpTo(ref) {  // scrolling javascript function
    if ( ref ) {
        var pn = ref - 1; // we start anchors at 1, not zero
        if ( navigator.appName == "Netscape" && 
             parseFloat(navigator.appVersion) < 5 ) {
            var xpos = document.anchors[pn].x;
            var ypos = document.anchors[pn].y;
        } else {
            var xpos = document.anchors[pn].offsetLeft;
            var ypos = document.anchors[pn].offsetTop;
        }
        if ( window.scrollTo == null ) { // cover for anyone
            window.scroll(xpos,ypos);    //   lacking js1.2
        } else {
            window.scrollTo(xpos,ypos);
        }
    }
    return false; // prevent link from being followed
}

// timer for gateway 
var theTime = -1;      // -1 before we've initialized
var alerted = -1;      // -1 = no alert set; 1 = 1st alert set
                       // this shouldn't really be needed
function runtimer() {
// aesthetically this is displeasing: we're assuming that the 
// ContentGenerator will put the appropriate form elements in that
// page for us to manipulate.  even with error checking, it seems sort
// of odd.

    if ( document.gwtimer == null ) {  // no timer
        return;
    } else {
        var tm = document.gwtimer.gwtime;
        var st = document.gwtimer.gwpagetimeleft.value;

        if ( st == 0 ) {                  // no time limit
            return;
        } else {
            if ( theTime == -1 ) {
                theTime = st;
                tm.value = toMinSec(theTime);
                setTimeout("runtimer()", 1000);  // 1000 ms = 1 sec
            } else if ( theTime == 0 && alerted != 3 ) {
	        alert("* You are out of time! *");
		alerted = 3;
	    } else if ( alerted != 3 ) {
	        theTime--;
                tm.value = toMinSec(theTime);
                setTimeout("runtimer()", 1000);  // 1000 ms = 1 sec
		if ( theTime == 35 && alerted != 2 ) { // time is in seconds
		    alert("* You have only about 30 seconds to complete " +
		          "this assignment.  Press Grade very soon! *\n" +
			  "* The timer stops while this alert box is open. *");
		    alerted = 2;
		    theTime -= 5;
                } else if ( theTime == 75 && alerted != 1) {
		    alert("* You have only about a minute left " +
		          "to complete this assignment! *\n" +
			  "* The timer stops while this alert box is open. *");
                    alerted = 1;
		    theTime -= 5;
                }
            }
        }
    }
}
function toMinSec(t) {
// convert to min:sec
    if ( t < 0 ) {     // don't deal with negative times
	t = 0;
    }
    mn = Math.floor(t/60);
    sc = t - 60*mn;
    if ( mn < 10 && mn > -1 ) {
        mn = "0" + mn;
    }
    if ( sc < 10 ) {
        sc = "0" + sc;
    }
    return mn + ":" + sc;
}

// for some reason putting this as an onload event in the body tag
// isn't working.  so start the timer here; the 500ms delay is to be 
// sure that the timer form fields have loaded
setTimeout("runtimer()",500);
</script>
</head>
<body bgcolor="white">

<div id="masthead">
	<div id="loginstatus">
		<!--#loginstatus-->
	</div>
	<div id="logo">
		<img src="<!--#url type="webwork" name="htdocs"-->/images/webwork_rectangle.png" alt="WeBWorK" height="51" width="267" />
	</div>
</div>
<hr class="for-broken-browsers"/>
<div id="big-wrapper">
	<div id="breadcrumbs">
		<!--#path style="text" text=" → "-->
	</div>
	<div id="content">
		
		<!--#if can="info"-->
		<!--<div id="page-info">-->
			<!--<div class="info-box" id="fisheye">-->
				<!--#info-->
			<!--</div>-->
		<!--</div>-->
		<!--#endif-->
		
		<!-- [gateway] removed nav button to go up -->
		
		<!--#if can="title"-->
		<h1><!--#title--></h1>
		<!--#endif-->
		
		<!--#if can="message"-->
			<div class="Message">
				<!--#message-->
			</div>
		<!--#endif-->

		<!--#if can="body"-->
		<div class="Body">
			<!--#body-->
		</div>
		<!--#endif-->
		
		<!--#if warnings="1"-->
		<hr>
		<div class="Warnings">
			<!--#warnings-->
		</div>
		<!--#endif-->
		
		<!--#if can="message"-->
			<div class="Message">
				<!--#message-->
			</div>
		<!--#endif-->
		
	</div> <!-- content -->
	<hr class="for-broken-browsers"/>
	<div id="footer">
		<p id="last-modified">Page generated at <!--#timestamp--></p>
		<div id="copyright">
			WeBWorK © 2000-2006 <a href="http://openwebwork.sf.net/">The WeBWorK Project</a>
		</div>
	</div>
	<!-- [gateway] removed left sidebar -->
</div> <!-- big-wrapper -->

</body>
</html>
